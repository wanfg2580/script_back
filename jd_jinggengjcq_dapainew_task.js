/*
不开卡,只做任务,部份大牌联合有任务有豆子,默认不执行
变量 actId
7 7 7 7 7 jd_jinggengjcq_dapainew_task.js

环境变量 actId
*/
const $ = new Env("大牌联合任务通用");
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const notify = $.isNode() ? require('./sendNotify') : '';
let cookiesArr = [], cookie = '', message = '';
let ownCode = null;
let actId = process.env.actId ?? '';
if ($.isNode()) {
    Object.keys(jdCookieNode).forEach((item) => {
        cookiesArr.push(jdCookieNode[item])
    })
    if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => { };
} else {
    let cookiesData = $.getdata('CookiesJD') || "[]";
    cookiesData = JSON.parse(cookiesData);
    cookiesArr = cookiesData.map(item => item.cookie);
    cookiesArr.reverse();
    cookiesArr.push(...[$.getdata('CookieJD2'), $.getdata('CookieJD')]);
    cookiesArr.reverse();
    cookiesArr = cookiesArr.filter(item => !!item);
}
var _0xoda='jsjiami.com.v6',_0xoda_=['‮_0xoda'],_0x3465=[_0xoda,'aGFzT3duUHJvcGVydHk=','WG9mbFQ=','YmFzZUluZm8=','bmlja25hbWU=','ZWRxeEk=','enRBSGc=','ZHlCbFI=','alVKcFE=','UWNLbnI=','SE9SaFA=','c2VNRGM=','U25iWFo=','cW1MRVA=','T1VHWUQ=','aVp4V3U=','aXN2T2JmdXNjYXRvcg==','aHR0cHM6Ly9semR6MS1pc3YuaXN2amNsb3VkLmNvbQ==','YXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVk','SkQ0aVBob25lLzE2NzY1MCAoaVBob25lOyBpT1MgMTMuNzsgU2NhbGUvMy4wMCk=','emgtSGFucy1DTjtxPTE=','SXJWd3Q=','YXh5bXU=','ekVEcms=','aHR0cHM6Ly9hcGkubS5qZC5jb20vY2xpZW50LmFjdGlvbj9mdW5jdGlvbklkPWlzdk9iZnVzY2F0b3I=','enZWd2Y=','YnlCbHY=','Z3dYRm8=','WFZqdG8=','dndyeEo=','ZHlYSXI=','b0ZJR3g=','anpYU2g=','cG96eUc=','VVpzYXE=','Y05MZ00=','VmNlelA=','bXVaRFI=','Wld6TG0=','dEhJY08=','b09xWXg=','Z2dwREQ=','SklaU0I=','b0VuQ3A=','UFVZSXI=','ZmxISWY=','SEVVZFQ=','aXpJTWE=','TFlMSVU=','bEdqVE0=','dkJJRlE=','b3BtbmQ=','Wm1ha04=','S1NoQm4=','aW1WcXc=','a1lOVU4=','WWhDQnA=','Y29kZQ==','bXdqSlg=','a0lKSWg=','elNFZkQ=','UmpUdXY=','ZUxyUnM=','TU5Iekw=','RkxUY0Y=','ZFpSalg=','d21zYks=','a0dSUmU=','Y3FrTlo=','amluZ2dlbmdqY3E=','amRzaWduLmNm','clZSaUE=','TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxM18yXzMgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjA1LjEuMTUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzEzLjAuMyBNb2JpbGUvMTVFMTQ4IFNhZmFyaS82MDQuMSBFZGcvODcuMC40MjgwLjg4','b2RHUk8=','dUt6TFQ=','ZW1RQnQ=','RkZSeG0=','SERaT1k=','Z0hYcWI=','QnlaZXk=','a2lJcEM=','UlVwVkk=','c05XRFY=','bWRyQkw=','ZUpDc2U=','enhVZVo=','cnllcm4=','R2RvYk8=','aHR0cHM6Ly9jZG4ubnoubHUvZGRv','cm5VcUw=','cGx6dmw=','UkFiVGc=','WnZSTno=','dWd4R2s=','R1VpVUs=','a3RJVnE=','U2xlWXo=','SmdUQmo=','Z3p2Rlk=','SURJZnE=','UlFyQlY=','5Lqs5Lic6L+U5Zue5LqG56m65pWw5o2u','44CQ5o+Q56S644CR6K+35YWI6I635Y+W5Lqs5Lic6LSm5Y+35LiAY29va2llCuebtOaOpeS9v+eUqE5vYnlEYeeahOS6rOS4nOetvuWIsOiOt+WPlg==','aHR0cHM6Ly9iZWFuLm0uamQuY29tL2JlYW4vc2lnbkluZGV4LmFjdGlvbg==','SWVJVWw=','QWh1RWo=','eHh4eHh4eHgteHh4eC14eHh4LXh4eHgteHh4eHh4eHh4eHh4','eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==','NTFCNTlCQjgwNTkwM0RBNENFNTEzRDI5RUM0NDgzNzU=','MTAyOTkxNzE=','RVZidFg=','VVFYTmQ=','THJtZGY=','5pyJ54K55YS/5pS26I63','bXNn','bmFtZQ==','cGlzdmE=','eVhZcnI=','TEpvTnc=','bGVuZ3Ro','UGFIY3Y=','dUxBQXA=','eE9DVms=','bG9n','VXNlck5hbWU=','TlJyQXc=','bWF0Y2g=','aW5kZXg=','ZW1VVHE=','aXNMb2dpbg==','bmlja05hbWU=','R2pkQkM=','CioqKioqKuW8gOWni+OAkOS6rOS4nOi0puWPtw==','KioqKioqKioqCg==','44CQ5o+Q56S644CRY29va2ll5bey5aSx5pWI','5Lqs5Lic6LSm5Y+3','Cuivt+mHjeaWsOeZu+W9leiOt+WPlgpodHRwczovL2JlYW4ubS5qZC5jb20vYmVhbi9zaWduSW5kZXguYWN0aW9u','aXNOb2Rl','YmVhbg==','QURJRA==','Z1ZQWGY=','amh6SHk=','VVVJRA==','T2lrb28=','YXBwa2V5','UlRDU2U=','dXNlcklk','VG9vd2E=','YWN0SWQ=','YXV0aG9yQ29kZQ==','WWZxTVA=','d2FpdA==','VmJPeUc=','a25nWnU=','bGZCVHo=','bVJiVmg=','CuOAkOS6rOS4nOi0puWPtw==','IAogICAgICAg4pSUIOiOt+W+lyA=','IOS6rOixhuOAgg==','a3NnUkY=','SGRPS3Q=','ZW52','U0lHTl9VUkw=','c2VuZE5vdGlmeQ==','dlJCU2k=','Y2F0Y2g=','LCDlpLHotKUhIOWOn+WboDog','ZmluYWxseQ==','ZG9uZQ==','YWN0aXZpdHlfbG9hZA==','Z25neVI=','SFRodGc=','MXwxMHw2fDl8N3w1fDJ8MHwzfDEyfDExfDh8NA==','NC7mir3lpZYgLT4=','MS7liqnlipvnoIEgLT4g','Y29tcGxldGUvbWlzc2lvbg==','dW5pdGVDb2xsZWN0U2hvcA==','ZHJhdy9wb3N0','ZHJhdw==','bWlzc2lvbi9jb21wbGV0ZS9zdGF0ZQ==','My7lhbPms6jlupfpk7ogLT4=','Mi7nu5HlrprliqnlipsgLT4=','c2hvcExpc3Q=','dW5pdGVBZGRDYXJ0','cmVsYXRpb25CaW5k','5ZCO6Z2i55qE5bCG57uZ6L+Z5Liq5Yqp5Yqb56CB5Yqp5YqbIC0+IA==','Ni7liqDlhaXotK3nianovaYgLT4=','5rKh5pyJ5oiQ5Yqf6I635Y+W5Yiw55So5oi35L+h5oGv','cmFZS20=','5rKh5pyJ5oiQ5Yqf6I635Y+W5Yiw55So5oi36Ym05p2D5L+h5oGv','dG9rZW4=','YnV5ZXJOaWNr','YWN0aXZpdHlJbmZv','TlNBUEo=','SEN1TnM=','ekxIWm4=','T3d3Z0g=','dG5mR28=','VFdNRUo=','c0Z2amc=','c3BsaXQ=','d1BzWEE=','WkludFQ=','b2l0alI=','V09CcmY=','YkhWQ3c=','dVZEcGY=','Z3p0Zno=','QVJyb3E=','S1hlcmc=','UXhzV2o=','dmJOSGY=','QmxUVWc=','dUp6SHM=','VW93Zkc=','SHFRWVo=','dUpqUnY=','WnhVVGs=','bU1uS1E=','TkFsbXo=','eWduQUc=','bnpHSmQ=','TW10SGY=','cFpicEM=','aWhqRHY=','YkhjbmY=','b21TeGc=','c0pKaFY=','c2N5bHQ=','CCBd','5Lqs5Lic5rKh5pyJ6L+U5Zue5pWw5o2u','T2V4VHM=','WnByRW8=','Mi4w','UE9TVA==','WHdiTXk=','ZXBWUG8=','L29wZW5DYXJkTmV3Lw==','YXNzaWdu','cGFyYW1z','YWRtSnNvbg==','U2hNaXA=','RVhTTVY=','ZEZoY2U=','eHRVcmk=','blBvc2o=','RW9QWk8=','cG9zdA==','bUNHTkM=','T3RDRk4=','cE5IV2M=','RHpzbGQ=','SElJcEg=','bkV5VG0=','dXpzc04=','b051YUI=','SUxVVGw=','cGFyc2U=','c3VjY2Vzcw==','ZGF0YQ==','c3RhdHVz','TFdRQUU=','V2ZQcXM=','VlpTdkU=','YmVhVVA=','Y3VzQWN0aXZpdHk=','YWN0TmFtZQ==','Tk5ua3E=','anFKZGI=','Y3VzU2hvcHM=','VHpYSFc=','cmVtYXJr','Z3N5QWM=','TnFEbGs=','YXdhcmRTZXR0aW5n','YXdhcmROYW1l','Z0pJYnk=','Zmxvb3I=','aW9OZHo=','cmFuZG9t','eWpUV3U=','T0d3V20=','b3FHa0s=','cFBhVVc=','UkR1ZE0=','TUpSTEY=','ekFETGw=','TXJoZUE=','YXBpLm0uamQuY29t','Ki8q','a2VlcC1hbGl2ZQ==','emgtY24=','Z3ppcCwgZGVmbGF0ZSwgYnI=','aHR0cHM6Ly9hcGkubS5qZC5jb20vY2xpZW50LmFjdGlvbj9hcHBpZD1qZF9zaG9wX21lbWJlciZmdW5jdGlvbklkPWdldFNob3BPcGVuQ2FyZEluZm8mYm9keT0=','SXhsbkM=','c3RyaW5naWZ5','JmNsaWVudD1INSZjbGllbnRWZXJzaW9uPTkuMi4wJnV1aWQ9ODg4ODg=','RkxRRFg=','dU5UQ1Q=','WWtTdFQ=','amRhcHA7aVBob25lOzkuNS40OzEzLjY7','O25ldHdvcmsvd2lmaTtBRElELw==','O21vZGVsL2lQaG9uZTEwLDM7YWRkcmVzc2lkLzA7YXBwQnVpbGQvMTY3NjY4O2pkU3VwcG9ydERhcmtNb2RlLzA7TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxM182IGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlLzE1RTE0ODtzdXBwb3J0SkRTSFdLLzE=','Q1hZU3o=','aHR0cHM6Ly9zaG9wbWVtYmVyLm0uamQuY29tL3Nob3BjYXJkLz92ZW5kZXJJZD0=','fSZjaGFubmVsPTgwMSZyZXR1cm5Vcmw9','a1VQRG4=','YWN0aXZpdHlVcmw=','cHR0dHo=','ZkNjU1A=','RE5HbXM=','S3ZtZVY=','Z2V0','bXhCbGg=','cFBLeGM=','TlFMd0c=','Y1BYdlA=','RUZLWFA=','cE5ERHM=','cmVzdWx0','aW50ZXJlc3RzUnVsZUxpc3Q=','b3BlbkNhcmRBY3Rpdml0eUlk','aW50ZXJlc3RzSW5mbw==','YWN0aXZpdHlJZA==','d1dKR2o=','R3ZyY2M=','eU11b2M=','V0Zpamo=','dG9TdHJpbmc=','amluZ2dlbmdqY3EtaXN2LmlzdmpjbG91ZC5jb20=','YXBwbGljYXRpb24vanNvbg==','WE1MSHR0cFJlcXVlc3Q=','emgtQ04semgtSGFucztxPTAuOQ==','YXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOA==','aHR0cHM6Ly9qaW5nZ2VuZ2pjcS1pc3YuaXN2amNsb3VkLmNvbQ==','aHR0cHM6Ly9qaW5nZ2VuZ2pjcS1pc3YuaXN2amNsb3VkLmNvbS9mcm9udGg1Lz9zaWQ9','aHR0cHM6Ly9qaW5nZ2VuZ2pjcS1pc3YuaXN2amNsb3VkLmNvbS9kbS9mcm9udC9vcGVuQ2FyZE5ldy8=','PyZtaXhfbmljaz0=','bWxhalI=','ZVpGUno=','VUpjWXE=','cmpFaEs=','RGpkZ2c=','cE9sSlY=','eHdLUXY=','amRhcHA7aVBob25lOzEwLjQuNTsxMy42Ow==','dk9DQm8=','d2NmWFQ=','UE1aUmU=','TkJCQUI=','Y3d4dUI=','Z2VIRmY=','TE5FZlI=','cmVwbGFjZQ==','akFWYlU=','SFZTa0M=','dHd1R1c=','bUV1WUI=','eEZEalM=','ZUhOTXY=','ZnBvWVg=','VUxrUVo=','dG9VcHBlckNhc2U=','S0RHVkk=','T0luaEc=','MTAwMQ==','dXNlckluZm8=','SnBjV1k=','RmZuZ1I=','aHR0cHM6Ly9tZS1hcGkuamQuY29tL3VzZXJfbmV3L2luZm8vR2V0SkRVc2VySW5mb1VuaW9u','bWUtYXBpLmpkLmNvbQ==','TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxNF8zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8xNC4wLjIgTW9iaWxlLzE1RTE0OCBTYWZhcmkvNjA0LjE=','aHR0cHM6Ly9ob21lLm0uamQuY29tL215SmQvbmV3aG9tZS5hY3Rpb24/c2NlbmV2YWw9MiZ1ZmM9Jg==','S2tTb2I=','ZmpWenk=','Q0ZKSW8=','cVZEQVA=','Q0dPdGw=','WkpOVmw=','cGF1dVE=','b2RURmc=','cVVDT0g=','UkRmQVk=','UWpiRWs=','Y2hMSlM=','IGdldFNpZ24gQVBJ6K+35rGC5aSx6LSl77yM6K+35qOA5p+l572R6Lev6YeN6K+V','bG9nRXJy','dWxLR1Y=','cmV0Y29kZQ==','b1JmckI=','Q3FUcVk=','jGsqjNiafmiS.lMVcom.v6LEFLWfAek=='];if(function(_0x2a0508,_0x29c13e,_0x3cd445){function _0x4b24d6(_0x2aa984,_0x32a4da,_0xb73306,_0x3fdfab,_0x4f7091,_0x4e075e){_0x32a4da=_0x32a4da>>0x8,_0x4f7091='po';var _0x8b468e='shift',_0x445955='push',_0x4e075e='‮';if(_0x32a4da<_0x2aa984){while(--_0x2aa984){_0x3fdfab=_0x2a0508[_0x8b468e]();if(_0x32a4da===_0x2aa984&&_0x4e075e==='‮'&&_0x4e075e['length']===0x1){_0x32a4da=_0x3fdfab,_0xb73306=_0x2a0508[_0x4f7091+'p']();}else if(_0x32a4da&&_0xb73306['replace'](/[GqNfSlMVLEFLWfAek=]/g,'')===_0x32a4da){_0x2a0508[_0x445955](_0x3fdfab);}}_0x2a0508[_0x445955](_0x2a0508[_0x8b468e]());}return 0xfe22d;};return _0x4b24d6(++_0x29c13e,_0x3cd445)>>_0x29c13e^_0x3cd445;}(_0x3465,0x1ea,0x1ea00),_0x3465){_0xoda_=_0x3465['length']^0x1ea;};function _0x34f8(_0x5ba722,_0x125cf5){_0x5ba722=~~'0x'['concat'](_0x5ba722['slice'](0x1));var _0x3dbf8a=_0x3465[_0x5ba722];if(_0x34f8['DXzLbz']===undefined&&'‮'['length']===0x1){(function(){var _0x268ebe;try{var _0x5a249f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x268ebe=_0x5a249f();}catch(_0x3ab892){_0x268ebe=window;}var _0x3216d4='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x268ebe['atob']||(_0x268ebe['atob']=function(_0x46f9d4){var _0x3b6b89=String(_0x46f9d4)['replace'](/=+$/,'');for(var _0x55d19c=0x0,_0x89b5a5,_0x23f557,_0x5422aa=0x0,_0x36d362='';_0x23f557=_0x3b6b89['charAt'](_0x5422aa++);~_0x23f557&&(_0x89b5a5=_0x55d19c%0x4?_0x89b5a5*0x40+_0x23f557:_0x23f557,_0x55d19c++%0x4)?_0x36d362+=String['fromCharCode'](0xff&_0x89b5a5>>(-0x2*_0x55d19c&0x6)):0x0){_0x23f557=_0x3216d4['indexOf'](_0x23f557);}return _0x36d362;});}());_0x34f8['CltNwO']=function(_0x19fa78){var _0x1bad6d=atob(_0x19fa78);var _0x55ab5b=[];for(var _0x4e4375=0x0,_0x133b28=_0x1bad6d['length'];_0x4e4375<_0x133b28;_0x4e4375++){_0x55ab5b+='%'+('00'+_0x1bad6d['charCodeAt'](_0x4e4375)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x55ab5b);};_0x34f8['BbdVtN']={};_0x34f8['DXzLbz']=!![];}var _0x2e0dbf=_0x34f8['BbdVtN'][_0x5ba722];if(_0x2e0dbf===undefined){_0x3dbf8a=_0x34f8['CltNwO'](_0x3dbf8a);_0x34f8['BbdVtN'][_0x5ba722]=_0x3dbf8a;}else{_0x3dbf8a=_0x2e0dbf;}return _0x3dbf8a;};!(async()=>{var _0x197938={'mRbVh':_0x34f8('‮0'),'pisva':_0x34f8('‮1'),'yXYrr':_0x34f8('‮2'),'LJoNw':function(_0xf63201,_0x4b3972){return _0xf63201<_0x4b3972;},'PaHcv':function(_0x5c207e,_0x392833){return _0x5c207e===_0x392833;},'uLAAp':_0x34f8('‫3'),'xOCVk':_0x34f8('‫4'),'NRrAw':function(_0x4707f4,_0x1c52c9){return _0x4707f4(_0x1c52c9);},'emUTq':function(_0x296dde,_0x443348){return _0x296dde+_0x443348;},'GjdBC':function(_0x4c65e8){return _0x4c65e8();},'gVPXf':function(_0x31850e,_0x4255c6,_0x270efe){return _0x31850e(_0x4255c6,_0x270efe);},'jhzHy':_0x34f8('‮5'),'Oikoo':_0x34f8('‮6'),'RTCSe':_0x34f8('‫7'),'Toowa':_0x34f8('‮8'),'YfqMP':function(_0x5b57bc,_0x4ce79d,_0x4a6c63){return _0x5b57bc(_0x4ce79d,_0x4a6c63);},'VbOyG':function(_0x303a75,_0x324d1f){return _0x303a75>_0x324d1f;},'kngZu':function(_0x52e5d6,_0x39c232){return _0x52e5d6!==_0x39c232;},'lfBTz':_0x34f8('‮9'),'ksgRF':_0x34f8('‫a'),'HdOKt':_0x34f8('‫b'),'vRBSi':_0x34f8('‮c')};if(!cookiesArr[0x0]){$[_0x34f8('‮d')]($[_0x34f8('‫e')],_0x197938[_0x34f8('‮f')],_0x197938[_0x34f8('‮10')],{'open-url':_0x197938[_0x34f8('‮10')]});return;}for(let _0x54e4ba=0x0;_0x197938[_0x34f8('‮11')](_0x54e4ba,cookiesArr[_0x34f8('‮12')]);_0x54e4ba++){if(cookiesArr[_0x54e4ba]){if(_0x197938[_0x34f8('‫13')](_0x197938[_0x34f8('‫14')],_0x197938[_0x34f8('‮15')])){console[_0x34f8('‮16')](error);}else{cookie=cookiesArr[_0x54e4ba];originCookie=cookiesArr[_0x54e4ba];newCookie='';$[_0x34f8('‫17')]=_0x197938[_0x34f8('‫18')](decodeURIComponent,cookie[_0x34f8('‫19')](/pt_pin=(.+?);/)&&cookie[_0x34f8('‫19')](/pt_pin=(.+?);/)[0x1]);$[_0x34f8('‫1a')]=_0x197938[_0x34f8('‫1b')](_0x54e4ba,0x1);$[_0x34f8('‫1c')]=!![];$[_0x34f8('‫1d')]='';await _0x197938[_0x34f8('‮1e')](checkCookie);console[_0x34f8('‮16')](_0x34f8('‫1f')+$[_0x34f8('‫1a')]+'】'+($[_0x34f8('‫1d')]||$[_0x34f8('‫17')])+_0x34f8('‮20'));if(!$[_0x34f8('‫1c')]){$[_0x34f8('‮d')]($[_0x34f8('‫e')],_0x34f8('‫21'),_0x34f8('‮22')+$[_0x34f8('‫1a')]+'\x20'+($[_0x34f8('‫1d')]||$[_0x34f8('‫17')])+_0x34f8('‫23'),{'open-url':_0x197938[_0x34f8('‮10')]});if($[_0x34f8('‫24')]()){}continue;}$[_0x34f8('‫25')]=0x0;$[_0x34f8('‮26')]=_0x197938[_0x34f8('‫27')](getUUID,_0x197938[_0x34f8('‫28')],0x1);$[_0x34f8('‫29')]=_0x197938[_0x34f8('‫18')](getUUID,_0x197938[_0x34f8('‮2a')]);authorCodeList=[];$[_0x34f8('‫2b')]=_0x197938[_0x34f8('‮2c')];$[_0x34f8('‫2d')]=_0x197938[_0x34f8('‫2e')];$[_0x34f8('‮2f')]=actId;$[_0x34f8('‮30')]=authorCodeList[_0x197938[_0x34f8('‫31')](random,0x0,authorCodeList[_0x34f8('‮12')])];await _0x197938[_0x34f8('‮1e')](openCardNew);await $[_0x34f8('‮32')](0x1f4);if(_0x197938[_0x34f8('‫33')]($[_0x34f8('‫25')],0x0)){if(_0x197938[_0x34f8('‮34')](_0x197938[_0x34f8('‮35')],_0x197938[_0x34f8('‮35')])){$[_0x34f8('‮16')](_0x197938[_0x34f8('‮36')]);}else{message+=_0x34f8('‫37')+$[_0x34f8('‫1a')]+'】'+($[_0x34f8('‫1d')]||$[_0x34f8('‫17')])+_0x34f8('‫38')+$[_0x34f8('‫25')]+_0x34f8('‮39');}}}}}if(_0x197938[_0x34f8('‮34')](message,'')){if(_0x197938[_0x34f8('‫13')](_0x197938[_0x34f8('‫3a')],_0x197938[_0x34f8('‫3b')])){Host=process[_0x34f8('‫3c')][_0x34f8('‮3d')];}else{if($[_0x34f8('‫24')]()){await notify[_0x34f8('‮3e')]($[_0x34f8('‫e')],message,'','\x0a');}else{$[_0x34f8('‮d')]($[_0x34f8('‫e')],_0x197938[_0x34f8('‫3f')],message);}}}})()[_0x34f8('‫40')](_0x53abd9=>{$[_0x34f8('‮16')]('','❌\x20'+$[_0x34f8('‫e')]+_0x34f8('‮41')+_0x53abd9+'!','');})[_0x34f8('‫42')](()=>{$[_0x34f8('‫43')]();});async function openCardNew(){var _0x2852d3={'nzGJd':function(_0x5a7a62){return _0x5a7a62();},'NSAPJ':function(_0x2b6d86){return _0x2b6d86();},'HCuNs':function(_0x2c84aa,_0x1bfeac,_0x2760d0){return _0x2c84aa(_0x1bfeac,_0x2760d0);},'zLHZn':_0x34f8('‮44'),'OwwgH':function(_0x60ecb7,_0x19c015){return _0x60ecb7!==_0x19c015;},'tnfGo':_0x34f8('‫45'),'TWMEJ':_0x34f8('‫46'),'sFvjg':_0x34f8('‫47'),'wPsXA':_0x34f8('‫48'),'ZIntT':function(_0x5c44ee,_0x39cb5f){return _0x5c44ee+_0x39cb5f;},'oitjR':_0x34f8('‫49'),'WOBrf':function(_0x5c0a3b,_0x2cbdf1,_0xba3a3){return _0x5c0a3b(_0x2cbdf1,_0xba3a3);},'bHVCw':_0x34f8('‫4a'),'uVDpf':_0x34f8('‮4b'),'gztfz':_0x34f8('‮4c'),'ARroq':_0x34f8('‫4d'),'KXerg':function(_0x475a97,_0x1098fa,_0x1c5aca){return _0x475a97(_0x1098fa,_0x1c5aca);},'QxsWj':_0x34f8('‮4e'),'vbNHf':_0x34f8('‫4f'),'BlTUg':_0x34f8('‫50'),'uJzHs':function(_0x2486eb,_0x30a355,_0x9f1e42){return _0x2486eb(_0x30a355,_0x9f1e42);},'UowfG':_0x34f8('‫51'),'HqQYZ':_0x34f8('‫52'),'uJjRv':function(_0x263277,_0x386541,_0x2af9ba){return _0x263277(_0x386541,_0x2af9ba);},'ZxUTk':_0x34f8('‫53'),'mMnKQ':function(_0x35b1a8,_0x57672c){return _0x35b1a8===_0x57672c;},'NAlmz':_0x34f8('‫54'),'ygnAG':_0x34f8('‮55'),'MmtHf':_0x34f8('‫56'),'pZbpC':_0x34f8('‫57'),'ihjDv':_0x34f8('‮58')};$[_0x34f8('‫59')]=null;$[_0x34f8('‫5a')]=null;$[_0x34f8('‮5b')]=null;await _0x2852d3[_0x34f8('‮5c')](getToken);if($[_0x34f8('‫59')]){await _0x2852d3[_0x34f8('‮5d')](task,_0x2852d3[_0x34f8('‮5e')],{'actId':$[_0x34f8('‮2f')],'inviteNick':$[_0x34f8('‮30')],'jdToken':$[_0x34f8('‫59')],'source':'01'});if($[_0x34f8('‫5a')]){if(_0x2852d3[_0x34f8('‫5f')](_0x2852d3[_0x34f8('‫60')],_0x2852d3[_0x34f8('‫61')])){var _0x712607=_0x2852d3[_0x34f8('‫62')][_0x34f8('‮63')]('|'),_0x14ad7c=0x0;while(!![]){switch(_0x712607[_0x14ad7c++]){case'0':console[_0x34f8('‮16')](_0x2852d3[_0x34f8('‫64')]);continue;case'1':console[_0x34f8('‮16')](_0x2852d3[_0x34f8('‫65')](_0x2852d3[_0x34f8('‫66')],$[_0x34f8('‫5a')]));continue;case'2':await _0x2852d3[_0x34f8('‮67')](task,_0x2852d3[_0x34f8('‮68')],{'actId':$[_0x34f8('‮2f')],'missionType':_0x2852d3[_0x34f8('‮69')]});continue;case'3':await _0x2852d3[_0x34f8('‮67')](task,_0x2852d3[_0x34f8('‮6a')],{'actId':$[_0x34f8('‮2f')],'usedGameNum':'2','dataType':_0x2852d3[_0x34f8('‮6b')]});continue;case'4':await _0x2852d3[_0x34f8('‮6c')](task,_0x2852d3[_0x34f8('‮6d')],{'actId':$[_0x34f8('‮2f')]});continue;case'5':console[_0x34f8('‮16')](_0x2852d3[_0x34f8('‮6e')]);continue;case'6':console[_0x34f8('‮16')](_0x2852d3[_0x34f8('‮6f')]);continue;case'7':await _0x2852d3[_0x34f8('‫70')](task,_0x2852d3[_0x34f8('‮71')],{'actId':$[_0x34f8('‮2f')]});continue;case'8':await _0x2852d3[_0x34f8('‫70')](task,_0x2852d3[_0x34f8('‮68')],{'actId':$[_0x34f8('‮2f')],'missionType':_0x2852d3[_0x34f8('‮72')]});continue;case'9':await _0x2852d3[_0x34f8('‫73')](task,_0x2852d3[_0x34f8('‮68')],{'actId':$[_0x34f8('‮2f')],'missionType':_0x2852d3[_0x34f8('‫74')],'inviterNick':$[_0x34f8('‮30')]});continue;case'10':if(_0x2852d3[_0x34f8('‫75')]($[_0x34f8('‫1a')],0x1)){ownCode=$[_0x34f8('‫5a')];console[_0x34f8('‮16')](_0x2852d3[_0x34f8('‫65')](_0x2852d3[_0x34f8('‮76')],ownCode));}continue;case'11':console[_0x34f8('‮16')](_0x2852d3[_0x34f8('‫77')]);continue;case'12':await _0x2852d3[_0x34f8('‫73')](task,_0x2852d3[_0x34f8('‮6d')],{'actId':$[_0x34f8('‮2f')]});continue;}break;}}else{_0x2852d3[_0x34f8('‮78')](resolve);}}else{$[_0x34f8('‮16')](_0x2852d3[_0x34f8('‮79')]);}}else{if(_0x2852d3[_0x34f8('‫5f')](_0x2852d3[_0x34f8('‮7a')],_0x2852d3[_0x34f8('‮7a')])){$[_0x34f8('‮16')](err);}else{$[_0x34f8('‮16')](_0x2852d3[_0x34f8('‮7b')]);}}}function task(_0x5274f5,_0x10a047){var _0x469d4e={'EoPZO':function(_0x44e2c0){return _0x44e2c0();},'OtCFN':function(_0x725168,_0x2b8e2a){return _0x725168!==_0x2b8e2a;},'pNHWc':_0x34f8('‮7c'),'Dzsld':function(_0x4ca078,_0x5288a5){return _0x4ca078===_0x5288a5;},'HIIpH':_0x34f8('‫7d'),'oNuaB':function(_0x5a5933,_0x42bb5c){return _0x5a5933===_0x42bb5c;},'ILUTl':_0x34f8('‫7e'),'LWQAE':_0x34f8('‮7f'),'WfPqs':_0x34f8('‮44'),'VZSvE':function(_0x45e262,_0x453024){return _0x45e262+_0x453024;},'beaUP':function(_0x48bade,_0x2169ef){return _0x48bade+_0x2169ef;},'NNnkq':_0x34f8('‫80'),'jqJdb':_0x34f8('‫51'),'TzXHW':_0x34f8('‫4a'),'gsyAc':_0x34f8('‮4e'),'NqDlk':_0x34f8('‮4c'),'gJIby':_0x34f8('‫81'),'yjTWu':_0x34f8('‮82'),'ShMip':function(_0x455331,_0x40c85a){return _0x455331+_0x40c85a;},'EXSMV':_0x34f8('‫54'),'dFhce':function(_0x42b9f9,_0x3d4542){return _0x42b9f9*_0x3d4542;},'xtUri':function(_0x13b4e2,_0xe21cba){return _0x13b4e2!==_0xe21cba;},'nPosj':_0x34f8('‮83'),'mCGNC':function(_0x125bda,_0x4572d3,_0x56a2d6){return _0x125bda(_0x4572d3,_0x56a2d6);},'XwbMy':_0x34f8('‫84'),'epVPo':_0x34f8('‫85')};body={'jsonRpc':_0x469d4e[_0x34f8('‮86')],'params':{'commonParameter':{'appkey':$[_0x34f8('‫2b')],'m':_0x469d4e[_0x34f8('‫87')],'timestamp':new Date(),'userId':$[_0x34f8('‫2d')]},'admJson':{'method':_0x34f8('‫88')+_0x5274f5,'userId':$[_0x34f8('‫2d')],'buyerNick':$[_0x34f8('‫5a')]?$[_0x34f8('‫5a')]:''}}};Object[_0x34f8('‫89')](body[_0x34f8('‮8a')][_0x34f8('‫8b')],_0x10a047);return new Promise(_0x13aa6a=>{var _0x279b1a={'nEyTm':function(_0x17ee59,_0x3bcae6){return _0x469d4e[_0x34f8('‫8c')](_0x17ee59,_0x3bcae6);},'uzssN':_0x469d4e[_0x34f8('‫8d')],'ioNdz':function(_0x503578,_0x5a47a6){return _0x469d4e[_0x34f8('‫8e')](_0x503578,_0x5a47a6);}};if(_0x469d4e[_0x34f8('‮8f')](_0x469d4e[_0x34f8('‮90')],_0x469d4e[_0x34f8('‮90')])){_0x469d4e[_0x34f8('‫91')](_0x13aa6a);}else{$[_0x34f8('‮92')](_0x469d4e[_0x34f8('‮93')](taskUrl,_0x5274f5,body),async(_0x192cec,_0x5edc50,_0x199d39)=>{if(_0x469d4e[_0x34f8('‮94')](_0x469d4e[_0x34f8('‫95')],_0x469d4e[_0x34f8('‫95')])){$[_0x34f8('‫1c')]=![];return;}else{try{if(_0x192cec){if(_0x469d4e[_0x34f8('‫96')](_0x469d4e[_0x34f8('‮97')],_0x469d4e[_0x34f8('‮97')])){$[_0x34f8('‮16')](_0x192cec);}else{ownCode=$[_0x34f8('‫5a')];console[_0x34f8('‮16')](_0x279b1a[_0x34f8('‫98')](_0x279b1a[_0x34f8('‫99')],ownCode));}}else{if(_0x469d4e[_0x34f8('‮9a')](_0x469d4e[_0x34f8('‫9b')],_0x469d4e[_0x34f8('‫9b')])){if(_0x199d39){_0x199d39=JSON[_0x34f8('‫9c')](_0x199d39);if(_0x199d39[_0x34f8('‫9d')]){if(_0x469d4e[_0x34f8('‮9a')](_0x199d39[_0x34f8('‮9e')][_0x34f8('‮9f')],0xc8)){if(_0x469d4e[_0x34f8('‮94')](_0x469d4e[_0x34f8('‮a0')],_0x469d4e[_0x34f8('‮a0')])){$[_0x34f8('‮16')](error);}else{switch(_0x5274f5){case _0x469d4e[_0x34f8('‫a1')]:$[_0x34f8('‫5a')]=_0x199d39[_0x34f8('‮9e')][_0x34f8('‮9e')][_0x34f8('‫5a')];console[_0x34f8('‮16')](_0x469d4e[_0x34f8('‫a2')](_0x469d4e[_0x34f8('‫a3')]('[\x20',_0x199d39[_0x34f8('‮9e')][_0x34f8('‮9e')][_0x34f8('‫a4')][_0x34f8('‫a5')]),_0x469d4e[_0x34f8('‫a6')]));break;case _0x469d4e[_0x34f8('‮a7')]:$[_0x34f8('‫51')]=_0x199d39[_0x34f8('‮9e')][_0x34f8('‮9e')][_0x34f8('‮a8')];break;case _0x469d4e[_0x34f8('‮a9')]:console[_0x34f8('‮16')](_0x199d39[_0x34f8('‮9e')][_0x34f8('‮9e')][_0x34f8('‮aa')]);break;case _0x469d4e[_0x34f8('‫ab')]:console[_0x34f8('‮16')](_0x199d39[_0x34f8('‫9d')]);break;case _0x469d4e[_0x34f8('‮ac')]:console[_0x34f8('‮16')](_0x199d39[_0x34f8('‮9e')][_0x34f8('‮9e')][_0x34f8('‮ad')][_0x34f8('‮ae')]);break;default:break;}}}}}else{$[_0x34f8('‮16')](_0x469d4e[_0x34f8('‮af')]);}}else{Host=HostArr[Math[_0x34f8('‫b0')](_0x279b1a[_0x34f8('‮b1')](Math[_0x34f8('‫b2')](),HostArr[_0x34f8('‮12')]))];}}}catch(_0x2b2078){if(_0x469d4e[_0x34f8('‮94')](_0x469d4e[_0x34f8('‫b3')],_0x469d4e[_0x34f8('‫b3')])){message+=_0x34f8('‫37')+$[_0x34f8('‫1a')]+'】'+($[_0x34f8('‫1d')]||$[_0x34f8('‫17')])+_0x34f8('‫38')+$[_0x34f8('‫25')]+_0x34f8('‮39');}else{$[_0x34f8('‮16')](_0x2b2078);}}finally{_0x469d4e[_0x34f8('‫91')](_0x13aa6a);}}});}});}function getShopOpenCardInfo(_0x45640a,_0x36f9c4){var _0x448181={'mxBlh':function(_0xd92cf2){return _0xd92cf2();},'pPKxc':_0x34f8('‫81'),'fCcSP':function(_0x247b42,_0x495e39){return _0x247b42!==_0x495e39;},'NQLwG':_0x34f8('‮b4'),'cPXvP':_0x34f8('‫b5'),'EFKXP':_0x34f8('‮b6'),'wWJGj':_0x34f8('‫b7'),'yMuoc':_0x34f8('‮b8'),'WFijj':function(_0xbb4971){return _0xbb4971();},'DNGms':_0x34f8('‫b9'),'KvmeV':_0x34f8('‮ba'),'IxlnC':function(_0x16767f,_0xba0ed7){return _0x16767f(_0xba0ed7);},'FLQDX':_0x34f8('‫bb'),'uNTCT':_0x34f8('‫bc'),'YkStT':_0x34f8('‮bd'),'CXYSz':_0x34f8('‫be'),'kUPDn':function(_0x5f379c,_0x13d782){return _0x5f379c(_0x13d782);},'ptttz':_0x34f8('‫bf')};let _0x2f918d={'url':_0x34f8('‫c0')+_0x448181[_0x34f8('‫c1')](encodeURIComponent,JSON[_0x34f8('‮c2')](_0x45640a))+_0x34f8('‮c3'),'headers':{'Host':_0x448181[_0x34f8('‫c4')],'Accept':_0x448181[_0x34f8('‫c5')],'Connection':_0x448181[_0x34f8('‮c6')],'Cookie':cookie,'User-Agent':_0x34f8('‮c7')+$[_0x34f8('‫29')]+_0x34f8('‮c8')+$[_0x34f8('‮26')]+_0x34f8('‫c9'),'Accept-Language':_0x448181[_0x34f8('‮ca')],'Referer':_0x34f8('‮cb')+_0x36f9c4+_0x34f8('‮cc')+_0x448181[_0x34f8('‮cd')](encodeURIComponent,$[_0x34f8('‮ce')]),'Accept-Encoding':_0x448181[_0x34f8('‮cf')]}};return new Promise(_0x1e2706=>{if(_0x448181[_0x34f8('‮d0')](_0x448181[_0x34f8('‮d1')],_0x448181[_0x34f8('‫d2')])){$[_0x34f8('‮d3')](_0x2f918d,(_0xf51ce5,_0x37efac,_0x386b2e)=>{var _0x16e2f4={'pNDDs':function(_0xc94f3b){return _0x448181[_0x34f8('‮d4')](_0xc94f3b);},'Gvrcc':_0x448181[_0x34f8('‫d5')]};try{if(_0x448181[_0x34f8('‮d0')](_0x448181[_0x34f8('‮d6')],_0x448181[_0x34f8('‫d7')])){if(_0xf51ce5){console[_0x34f8('‮16')](_0xf51ce5);}else{if(_0x448181[_0x34f8('‮d0')](_0x448181[_0x34f8('‫d8')],_0x448181[_0x34f8('‫d8')])){_0x16e2f4[_0x34f8('‮d9')](_0x1e2706);}else{res=JSON[_0x34f8('‫9c')](_0x386b2e);if(res[_0x34f8('‫9d')]){if(res[_0x34f8('‫da')][_0x34f8('‫db')]){$[_0x34f8('‫dc')]=res[_0x34f8('‫da')][_0x34f8('‫db')][0x0][_0x34f8('‮dd')][_0x34f8('‮de')];}}}}}else{if(res[_0x34f8('‫da')][_0x34f8('‫db')]){$[_0x34f8('‫dc')]=res[_0x34f8('‫da')][_0x34f8('‫db')][0x0][_0x34f8('‮dd')][_0x34f8('‮de')];}}}catch(_0x54f86e){if(_0x448181[_0x34f8('‮d0')](_0x448181[_0x34f8('‫df')],_0x448181[_0x34f8('‫df')])){$[_0x34f8('‮16')](_0x16e2f4[_0x34f8('‫e0')]);}else{console[_0x34f8('‮16')](_0x54f86e);}}finally{if(_0x448181[_0x34f8('‮d0')](_0x448181[_0x34f8('‫e1')],_0x448181[_0x34f8('‫e1')])){$[_0x34f8('‮16')]('','❌\x20'+$[_0x34f8('‫e')]+_0x34f8('‮41')+e+'!','');}else{_0x448181[_0x34f8('‫e2')](_0x1e2706);}}});}else{uuid=v[_0x34f8('‫e3')](0x24);}});}function taskUrl(_0x14abf4,_0x22db4e){var _0x4bf041={'mlajR':_0x34f8('‫e4'),'eZFRz':_0x34f8('‫e5'),'UJcYq':_0x34f8('‫e6'),'rjEhK':_0x34f8('‫e7'),'Djdgg':_0x34f8('‫bf'),'pOlJV':_0x34f8('‮e8'),'xwKQv':_0x34f8('‫e9'),'vOCBo':_0x34f8('‮bd'),'wcfXT':_0x34f8('‮ea')};return{'url':_0x34f8('‮eb')+_0x14abf4+_0x34f8('‫ec')+($[_0x34f8('‫5a')]?$[_0x34f8('‫5a')]:''),'headers':{'Host':_0x4bf041[_0x34f8('‮ed')],'Accept':_0x4bf041[_0x34f8('‮ee')],'X-Requested-With':_0x4bf041[_0x34f8('‮ef')],'Accept-Language':_0x4bf041[_0x34f8('‮f0')],'Accept-Encoding':_0x4bf041[_0x34f8('‫f1')],'Content-Type':_0x4bf041[_0x34f8('‮f2')],'Origin':_0x4bf041[_0x34f8('‫f3')],'User-Agent':_0x34f8('‮f4')+$[_0x34f8('‫29')]+_0x34f8('‮c8')+$[_0x34f8('‮26')]+_0x34f8('‫c9'),'Connection':_0x4bf041[_0x34f8('‫f5')],'Referer':_0x4bf041[_0x34f8('‮f6')],'Cookie':cookie},'body':JSON[_0x34f8('‮c2')](_0x22db4e)};}function random(_0x1a5b21,_0x790330){var _0x37e1c4={'PMZRe':function(_0x4b9313,_0x1ef9fa){return _0x4b9313+_0x1ef9fa;},'NBBAB':function(_0x85c19d,_0x599aeb){return _0x85c19d*_0x599aeb;},'cwxuB':function(_0x4de34d,_0x58c25b){return _0x4de34d-_0x58c25b;}};return _0x37e1c4[_0x34f8('‮f7')](Math[_0x34f8('‫b0')](_0x37e1c4[_0x34f8('‫f8')](Math[_0x34f8('‫b2')](),_0x37e1c4[_0x34f8('‫f9')](_0x790330,_0x1a5b21))),_0x1a5b21);}function getUUID(_0x10e0e9=_0x34f8('‮6'),_0x1679c3=0x0){var _0x236cba={'jAVbU':function(_0x30e455,_0x3c2038){return _0x30e455!==_0x3c2038;},'HVSkC':_0x34f8('‫fa'),'twuGW':_0x34f8('‮fb'),'mEuYB':function(_0x29955c,_0x26f988){return _0x29955c|_0x26f988;},'xFDjS':function(_0x1b781c,_0x51f502){return _0x1b781c*_0x51f502;},'eHNMv':function(_0x254c61,_0x2d72e1){return _0x254c61==_0x2d72e1;},'fpoYX':function(_0x25ebc9,_0x462715){return _0x25ebc9|_0x462715;},'ULkQZ':function(_0x13a418,_0x5cadf7){return _0x13a418&_0x5cadf7;}};return _0x10e0e9[_0x34f8('‮fc')](/[xy]/g,function(_0x14ef4b){if(_0x236cba[_0x34f8('‮fd')](_0x236cba[_0x34f8('‮fe')],_0x236cba[_0x34f8('‮ff')])){var _0x253a21=_0x236cba[_0x34f8('‮100')](_0x236cba[_0x34f8('‮101')](Math[_0x34f8('‫b2')](),0x10),0x0),_0x2a0d37=_0x236cba[_0x34f8('‮102')](_0x14ef4b,'x')?_0x253a21:_0x236cba[_0x34f8('‫103')](_0x236cba[_0x34f8('‫104')](_0x253a21,0x3),0x8);if(_0x1679c3){uuid=_0x2a0d37[_0x34f8('‫e3')](0x24)[_0x34f8('‫105')]();}else{uuid=_0x2a0d37[_0x34f8('‫e3')](0x24);}return uuid;}else{$[_0x34f8('‮16')](err);}});}function checkCookie(){var _0x74f23c={'RDfAY':function(_0x2b72d1,_0x5d8bae){return _0x2b72d1===_0x5d8bae;},'QjbEk':_0x34f8('‫106'),'chLJS':_0x34f8('‮107'),'ulKGV':function(_0x469a95,_0xa19a15){return _0x469a95===_0xa19a15;},'oRfrB':_0x34f8('‫108'),'CqTqY':function(_0x1d6bc5,_0x28ab9f){return _0x1d6bc5===_0x28ab9f;},'XoflT':_0x34f8('‫109'),'qUCOH':_0x34f8('‮0'),'edqxI':_0x34f8('‮10a'),'ztAHg':_0x34f8('‮10b'),'jUJpQ':function(_0x102e1b){return _0x102e1b();},'KkSob':_0x34f8('‮10c'),'fjVzy':_0x34f8('‮10d'),'CFJIo':_0x34f8('‫bc'),'qVDAP':_0x34f8('‮bd'),'CGOtl':_0x34f8('‫10e'),'ZJNVl':_0x34f8('‫be'),'pauuQ':_0x34f8('‮10f'),'odTFg':_0x34f8('‫bf')};const _0x513d37={'url':_0x74f23c[_0x34f8('‮110')],'headers':{'Host':_0x74f23c[_0x34f8('‫111')],'Accept':_0x74f23c[_0x34f8('‮112')],'Connection':_0x74f23c[_0x34f8('‮113')],'Cookie':cookie,'User-Agent':_0x74f23c[_0x34f8('‮114')],'Accept-Language':_0x74f23c[_0x34f8('‮115')],'Referer':_0x74f23c[_0x34f8('‮116')],'Accept-Encoding':_0x74f23c[_0x34f8('‮117')]}};return new Promise(_0x4a9dcc=>{var _0x15a507={'dyBlR':_0x74f23c[_0x34f8('‫118')]};$[_0x34f8('‮d3')](_0x513d37,(_0x31f60f,_0xa57610,_0x212262)=>{try{if(_0x74f23c[_0x34f8('‮119')](_0x74f23c[_0x34f8('‫11a')],_0x74f23c[_0x34f8('‮11b')])){console[_0x34f8('‮16')](''+JSON[_0x34f8('‮c2')](_0x31f60f));console[_0x34f8('‮16')]($[_0x34f8('‫e')]+_0x34f8('‫11c'));}else{if(_0x31f60f){$[_0x34f8('‮11d')](_0x31f60f);}else{if(_0x212262){_0x212262=JSON[_0x34f8('‫9c')](_0x212262);if(_0x74f23c[_0x34f8('‫11e')](_0x212262[_0x34f8('‮11f')],_0x74f23c[_0x34f8('‮120')])){$[_0x34f8('‫1c')]=![];return;}if(_0x74f23c[_0x34f8('‮121')](_0x212262[_0x34f8('‮11f')],'0')&&_0x212262[_0x34f8('‮9e')][_0x34f8('‮122')](_0x74f23c[_0x34f8('‫123')])){$[_0x34f8('‫1d')]=_0x212262[_0x34f8('‮9e')][_0x34f8('‫109')][_0x34f8('‮124')][_0x34f8('‮125')];}}else{$[_0x34f8('‮16')](_0x74f23c[_0x34f8('‫118')]);}}}}catch(_0x4f49d7){if(_0x74f23c[_0x34f8('‮121')](_0x74f23c[_0x34f8('‫126')],_0x74f23c[_0x34f8('‫127')])){$[_0x34f8('‮16')](_0x15a507[_0x34f8('‮128')]);}else{$[_0x34f8('‮11d')](_0x4f49d7);}}finally{_0x74f23c[_0x34f8('‮129')](_0x4a9dcc);}});});}async function getToken(){var _0xea7e15={'jzXSh':function(_0x5eb448,_0xce3d26){return _0x5eb448|_0xce3d26;},'pozyG':function(_0x203d12,_0x53e32c){return _0x203d12*_0x53e32c;},'UZsaq':function(_0x12a761,_0x3deb16){return _0x12a761==_0x3deb16;},'cNLgM':function(_0x1786f5,_0x941b3e){return _0x1786f5&_0x941b3e;},'VcezP':function(_0xfdd921,_0x1c67f6){return _0xfdd921!==_0x1c67f6;},'muZDR':_0x34f8('‫12a'),'ZWzLm':function(_0x354323,_0x4e430f){return _0x354323===_0x4e430f;},'tHIcO':_0x34f8('‫12b'),'oOqYx':_0x34f8('‫12c'),'ggpDD':function(_0x1a1ee4,_0x4fea8e){return _0x1a1ee4!==_0x4fea8e;},'JIZSB':_0x34f8('‫12d'),'oEnCp':_0x34f8('‮12e'),'PUYIr':_0x34f8('‮0'),'flHIf':function(_0x40c7c2){return _0x40c7c2();},'HEUdT':function(_0x1dedf3,_0x4c48f6){return _0x1dedf3===_0x4c48f6;},'izIMa':function(_0x2e65d9,_0x49e4a0){return _0x2e65d9!==_0x49e4a0;},'LYLIU':_0x34f8('‫12f'),'lGjTM':_0x34f8('‫130'),'IrVwt':function(_0x57798e,_0x463daf,_0x5989c1){return _0x57798e(_0x463daf,_0x5989c1);},'axymu':_0x34f8('‫131'),'zEDrk':_0x34f8('‮132'),'zvVwf':_0x34f8('‫bb'),'byBlv':_0x34f8('‫133'),'gwXFo':_0x34f8('‫bc'),'XVjto':_0x34f8('‮bd'),'vwrxJ':_0x34f8('‫134'),'dyXIr':_0x34f8('‫135'),'oFIGx':_0x34f8('‫bf')};let _0xf86a07=await _0xea7e15[_0x34f8('‫136')](getSign,_0xea7e15[_0x34f8('‮137')],{'id':'','url':_0xea7e15[_0x34f8('‮138')]});let _0x1b85b4={'url':_0x34f8('‫139'),'headers':{'Host':_0xea7e15[_0x34f8('‫13a')],'Content-Type':_0xea7e15[_0x34f8('‮13b')],'Accept':_0xea7e15[_0x34f8('‫13c')],'Connection':_0xea7e15[_0x34f8('‫13d')],'Cookie':cookie,'User-Agent':_0xea7e15[_0x34f8('‫13e')],'Accept-Language':_0xea7e15[_0x34f8('‫13f')],'Accept-Encoding':_0xea7e15[_0x34f8('‫140')]},'body':_0xf86a07};return new Promise(_0x4997f2=>{var _0x5f0e09={'ZmakN':function(_0x44e847,_0x90563){return _0xea7e15[_0x34f8('‫141')](_0x44e847,_0x90563);},'KShBn':function(_0x13e210,_0x2756c7){return _0xea7e15[_0x34f8('‫142')](_0x13e210,_0x2756c7);},'imVqw':function(_0xa857e,_0x149363){return _0xea7e15[_0x34f8('‫143')](_0xa857e,_0x149363);},'kYNUN':function(_0xf717df,_0x189bb4){return _0xea7e15[_0x34f8('‫144')](_0xf717df,_0x189bb4);},'vBIFQ':function(_0x1ccdb8,_0x2be993){return _0xea7e15[_0x34f8('‫145')](_0x1ccdb8,_0x2be993);},'opmnd':_0xea7e15[_0x34f8('‫146')],'YhCBp':function(_0x37303e,_0x20c452){return _0xea7e15[_0x34f8('‫147')](_0x37303e,_0x20c452);},'mwjJX':_0xea7e15[_0x34f8('‮148')],'kIJIh':_0xea7e15[_0x34f8('‮149')],'zSEfD':function(_0x57ffa6,_0x142270){return _0xea7e15[_0x34f8('‫14a')](_0x57ffa6,_0x142270);},'RjTuv':_0xea7e15[_0x34f8('‮14b')],'eLrRs':_0xea7e15[_0x34f8('‫14c')],'MNHzL':_0xea7e15[_0x34f8('‫14d')],'FLTcF':function(_0x34e45f){return _0xea7e15[_0x34f8('‫14e')](_0x34e45f);},'dZRjX':function(_0x1e9c6b,_0x2ceafa){return _0xea7e15[_0x34f8('‫14f')](_0x1e9c6b,_0x2ceafa);}};if(_0xea7e15[_0x34f8('‮150')](_0xea7e15[_0x34f8('‮151')],_0xea7e15[_0x34f8('‮152')])){$[_0x34f8('‮92')](_0x1b85b4,(_0x35366f,_0x427fd4,_0x684405)=>{try{if(_0x35366f){if(_0x5f0e09[_0x34f8('‮153')](_0x5f0e09[_0x34f8('‫154')],_0x5f0e09[_0x34f8('‫154')])){var _0x233089=_0x5f0e09[_0x34f8('‮155')](_0x5f0e09[_0x34f8('‮156')](Math[_0x34f8('‫b2')](),0x10),0x0),_0x32d992=_0x5f0e09[_0x34f8('‫157')](c,'x')?_0x233089:_0x5f0e09[_0x34f8('‮155')](_0x5f0e09[_0x34f8('‫158')](_0x233089,0x3),0x8);if(UpperCase){uuid=_0x32d992[_0x34f8('‫e3')](0x24)[_0x34f8('‫105')]();}else{uuid=_0x32d992[_0x34f8('‫e3')](0x24);}return uuid;}else{$[_0x34f8('‮16')](_0x35366f);}}else{if(_0x684405){_0x684405=JSON[_0x34f8('‫9c')](_0x684405);if(_0x5f0e09[_0x34f8('‫159')](_0x684405[_0x34f8('‮15a')],'0')){if(_0x5f0e09[_0x34f8('‮153')](_0x5f0e09[_0x34f8('‫15b')],_0x5f0e09[_0x34f8('‫15c')])){$[_0x34f8('‫59')]=_0x684405[_0x34f8('‫59')];}else{$[_0x34f8('‫dc')]=res[_0x34f8('‫da')][_0x34f8('‫db')][0x0][_0x34f8('‮dd')][_0x34f8('‮de')];}}}else{if(_0x5f0e09[_0x34f8('‫15d')](_0x5f0e09[_0x34f8('‫15e')],_0x5f0e09[_0x34f8('‫15f')])){$[_0x34f8('‮16')](_0x5f0e09[_0x34f8('‫160')]);}else{$[_0x34f8('‫43')]();}}}}catch(_0x4b980f){$[_0x34f8('‮16')](_0x4b980f);}finally{_0x5f0e09[_0x34f8('‮161')](_0x4997f2);}});}else{data=JSON[_0x34f8('‫9c')](data);if(_0x5f0e09[_0x34f8('‮162')](data[_0x34f8('‮15a')],'0')){$[_0x34f8('‫59')]=data[_0x34f8('‫59')];}}});}function getSign(_0x1cfa28,_0x225765){var _0x338265={'zxUeZ':function(_0x37aa03,_0xf1f223){return _0x37aa03+_0xf1f223;},'ryern':function(_0x48e5fc,_0x3917e2){return _0x48e5fc*_0x3917e2;},'GdobO':function(_0x1a98a8,_0x1d639c){return _0x1a98a8-_0x1d639c;},'odGRO':_0x34f8('‮1'),'uKzLT':_0x34f8('‮2'),'emQBt':function(_0x38fe9c,_0x2268ec){return _0x38fe9c!==_0x2268ec;},'FFRxm':_0x34f8('‮163'),'HDZOY':_0x34f8('‮164'),'gHXqb':function(_0x58e94b,_0x3a082f){return _0x58e94b===_0x3a082f;},'ByZey':_0x34f8('‮165'),'kiIpC':function(_0x2b9232,_0xcde421){return _0x2b9232(_0xcde421);},'RUpVI':_0x34f8('‫166'),'sNWDV':_0x34f8('‫167'),'mdrBL':function(_0x30db10,_0x11a1de){return _0x30db10!==_0x11a1de;},'eJCse':_0x34f8('‫168'),'rnUqL':_0x34f8('‮169'),'plzvl':function(_0x44aa1e,_0xcf0746){return _0x44aa1e*_0xcf0746;}};return new Promise(async _0x4f7684=>{var _0xd3ac79={'RAbTg':_0x338265[_0x34f8('‫16a')],'ZvRNz':_0x338265[_0x34f8('‮16b')],'ugxGk':function(_0x42d422,_0x3764a7){return _0x338265[_0x34f8('‮16c')](_0x42d422,_0x3764a7);},'GUiUK':_0x338265[_0x34f8('‮16d')],'ktIVq':_0x338265[_0x34f8('‫16e')],'SleYz':function(_0x2742,_0x3baf72){return _0x338265[_0x34f8('‮16f')](_0x2742,_0x3baf72);},'JgTBj':_0x338265[_0x34f8('‮170')],'RQrBV':function(_0x1efd04,_0x4116e4){return _0x338265[_0x34f8('‮171')](_0x1efd04,_0x4116e4);}};let _0xfc08b4={'functionId':_0x1cfa28,'body':JSON[_0x34f8('‮c2')](_0x225765),'activityId':_0x338265[_0x34f8('‮172')]};let _0x2c289b='';let _0x1df3eb=[_0x338265[_0x34f8('‫173')]];if(process[_0x34f8('‫3c')][_0x34f8('‮3d')]){_0x2c289b=process[_0x34f8('‫3c')][_0x34f8('‮3d')];}else{if(_0x338265[_0x34f8('‫174')](_0x338265[_0x34f8('‫175')],_0x338265[_0x34f8('‫175')])){return _0x338265[_0x34f8('‮176')](Math[_0x34f8('‫b0')](_0x338265[_0x34f8('‫177')](Math[_0x34f8('‫b2')](),_0x338265[_0x34f8('‮178')](max,min))),min);}else{_0x2c289b=_0x1df3eb[Math[_0x34f8('‫b0')](_0x338265[_0x34f8('‫177')](Math[_0x34f8('‫b2')](),_0x1df3eb[_0x34f8('‮12')]))];}}let _0x162692={'url':_0x34f8('‫179'),'body':JSON[_0x34f8('‮c2')](_0xfc08b4),'headers':{'Host':_0x2c289b,'User-Agent':_0x338265[_0x34f8('‮17a')]},'timeout':_0x338265[_0x34f8('‮17b')](0x1e,0x3e8)};$[_0x34f8('‮92')](_0x162692,(_0x58868c,_0xc392e9,_0xfc08b4)=>{var _0x189271={'gzvFY':_0xd3ac79[_0x34f8('‫17c')],'IDIfq':_0xd3ac79[_0x34f8('‫17d')]};try{if(_0xd3ac79[_0x34f8('‫17e')](_0xd3ac79[_0x34f8('‫17f')],_0xd3ac79[_0x34f8('‫180')])){if(_0x58868c){if(_0xd3ac79[_0x34f8('‮181')](_0xd3ac79[_0x34f8('‮182')],_0xd3ac79[_0x34f8('‮182')])){console[_0x34f8('‮16')](''+JSON[_0x34f8('‮c2')](_0x58868c));console[_0x34f8('‮16')]($[_0x34f8('‫e')]+_0x34f8('‫11c'));}else{$[_0x34f8('‮d')]($[_0x34f8('‫e')],_0x189271[_0x34f8('‮183')],_0x189271[_0x34f8('‫184')],{'open-url':_0x189271[_0x34f8('‫184')]});return;}}else{}}else{$[_0x34f8('‫1d')]=_0xfc08b4[_0x34f8('‮9e')][_0x34f8('‫109')][_0x34f8('‮124')][_0x34f8('‮125')];}}catch(_0x5221df){$[_0x34f8('‮11d')](_0x5221df,_0xc392e9);}finally{_0xd3ac79[_0x34f8('‫185')](_0x4f7684,_0xfc08b4);}});});};_0xoda='jsjiami.com.v6';
!function (n) { "use strict"; function t(n, t) { var r = (65535 & n) + (65535 & t); return (n >> 16) + (t >> 16) + (r >> 16) << 16 | 65535 & r } function r(n, t) { return n << t | n >>> 32 - t } function e(n, e, o, u, c, f) { return t(r(t(t(e, n), t(u, f)), c), o) } function o(n, t, r, o, u, c, f) { return e(t & r | ~t & o, n, t, u, c, f) } function u(n, t, r, o, u, c, f) { return e(t & o | r & ~o, n, t, u, c, f) } function c(n, t, r, o, u, c, f) { return e(t ^ r ^ o, n, t, u, c, f) } function f(n, t, r, o, u, c, f) { return e(r ^ (t | ~o), n, t, u, c, f) } function i(n, r) { n[r >> 5] |= 128 << r % 32, n[14 + (r + 64 >>> 9 << 4)] = r; var e, i, a, d, h, l = 1732584193, g = -271733879, v = -1732584194, m = 271733878; for (e = 0; e < n.length; e += 16)i = l, a = g, d = v, h = m, g = f(g = f(g = f(g = f(g = c(g = c(g = c(g = c(g = u(g = u(g = u(g = u(g = o(g = o(g = o(g = o(g, v = o(v, m = o(m, l = o(l, g, v, m, n[e], 7, -680876936), g, v, n[e + 1], 12, -389564586), l, g, n[e + 2], 17, 606105819), m, l, n[e + 3], 22, -1044525330), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 4], 7, -176418897), g, v, n[e + 5], 12, 1200080426), l, g, n[e + 6], 17, -1473231341), m, l, n[e + 7], 22, -45705983), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 8], 7, 1770035416), g, v, n[e + 9], 12, -1958414417), l, g, n[e + 10], 17, -42063), m, l, n[e + 11], 22, -1990404162), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 12], 7, 1804603682), g, v, n[e + 13], 12, -40341101), l, g, n[e + 14], 17, -1502002290), m, l, n[e + 15], 22, 1236535329), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 1], 5, -165796510), g, v, n[e + 6], 9, -1069501632), l, g, n[e + 11], 14, 643717713), m, l, n[e], 20, -373897302), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 5], 5, -701558691), g, v, n[e + 10], 9, 38016083), l, g, n[e + 15], 14, -660478335), m, l, n[e + 4], 20, -405537848), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 9], 5, 568446438), g, v, n[e + 14], 9, -1019803690), l, g, n[e + 3], 14, -187363961), m, l, n[e + 8], 20, 1163531501), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 13], 5, -1444681467), g, v, n[e + 2], 9, -51403784), l, g, n[e + 7], 14, 1735328473), m, l, n[e + 12], 20, -1926607734), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 5], 4, -378558), g, v, n[e + 8], 11, -2022574463), l, g, n[e + 11], 16, 1839030562), m, l, n[e + 14], 23, -35309556), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 1], 4, -1530992060), g, v, n[e + 4], 11, 1272893353), l, g, n[e + 7], 16, -155497632), m, l, n[e + 10], 23, -1094730640), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 13], 4, 681279174), g, v, n[e], 11, -358537222), l, g, n[e + 3], 16, -722521979), m, l, n[e + 6], 23, 76029189), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 9], 4, -640364487), g, v, n[e + 12], 11, -421815835), l, g, n[e + 15], 16, 530742520), m, l, n[e + 2], 23, -995338651), v = f(v, m = f(m, l = f(l, g, v, m, n[e], 6, -198630844), g, v, n[e + 7], 10, 1126891415), l, g, n[e + 14], 15, -1416354905), m, l, n[e + 5], 21, -57434055), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 12], 6, 1700485571), g, v, n[e + 3], 10, -1894986606), l, g, n[e + 10], 15, -1051523), m, l, n[e + 1], 21, -2054922799), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 8], 6, 1873313359), g, v, n[e + 15], 10, -30611744), l, g, n[e + 6], 15, -1560198380), m, l, n[e + 13], 21, 1309151649), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 4], 6, -145523070), g, v, n[e + 11], 10, -1120210379), l, g, n[e + 2], 15, 718787259), m, l, n[e + 9], 21, -343485551), l = t(l, i), g = t(g, a), v = t(v, d), m = t(m, h); return [l, g, v, m] } function a(n) { var t, r = "", e = 32 * n.length; for (t = 0; t < e; t += 8)r += String.fromCharCode(n[t >> 5] >>> t % 32 & 255); return r } function d(n) { var t, r = []; for (r[(n.length >> 2) - 1] = void 0, t = 0; t < r.length; t += 1)r[t] = 0; var e = 8 * n.length; for (t = 0; t < e; t += 8)r[t >> 5] |= (255 & n.charCodeAt(t / 8)) << t % 32; return r } function h(n) { return a(i(d(n), 8 * n.length)) } function l(n, t) { var r, e, o = d(n), u = [], c = []; for (u[15] = c[15] = void 0, o.length > 16 && (o = i(o, 8 * n.length)), r = 0; r < 16; r += 1)u[r] = 909522486 ^ o[r], c[r] = 1549556828 ^ o[r]; return e = i(u.concat(d(t)), 512 + 8 * t.length), a(i(c.concat(e), 640)) } function g(n) { var t, r, e = ""; for (r = 0; r < n.length; r += 1)t = n.charCodeAt(r), e += "0123456789abcdef".charAt(t >>> 4 & 15) + "0123456789abcdef".charAt(15 & t); return e } function v(n) { return unescape(encodeURIComponent(n)) } function m(n) { return h(v(n)) } function p(n) { return g(m(n)) } function s(n, t) { return l(v(n), v(t)) } function C(n, t) { return g(s(n, t)) } function A(n, t, r) { return t ? r ? s(t, n) : C(t, n) : r ? m(n) : p(n) } $.md5 = A }(this);
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
